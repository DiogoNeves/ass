# ğŸ‘ ASS - Argumentative System Service

<div align="center">

[![Python 3.9+](https://img.shields.io/badge/python-3.9+-blue.svg)](https://www.python.org/downloads/)
[![UV](https://img.shields.io/badge/uv-package%20manager-green.svg)](https://docs.astral.sh/uv/)
[![Rich](https://img.shields.io/badge/cli-rich-purple.svg)](https://rich.readthedocs.io/)

*A sophisticated debate system for reaching better answers through AI argumentation*

</div>

## ğŸ­ What is ASS?

**ASS (Argumentative System Service)** is an advanced debate simulation platform that models how expert-level AI personalities argue, reason, and potentially change their minds when presented with compelling evidence. Using internal belief states and sophisticated reasoning systems, ASS helps explore complex topics from multiple perspectives to arrive at more nuanced, well-considered conclusions.

> **ğŸ¤– AI-Generated Project**: This entire project was generated by AI from an original idea by [Diogo](https://github.com/DiogoNeves). The concept, architecture, code, and documentation were all created through an AI-assisted development process, demonstrating the potential of human-AI collaboration in software creation.

**Perfect for:**
- ğŸ§  **Complex Problem-Solving** - Model expert debates to find optimal solutions
- ğŸ”¬ **Research & Analysis** - Explore topics with rigorous, evidence-based reasoning
- ğŸ¤” **Decision Support** - Get high-quality arguments from multiple expert perspectives
- ğŸ“š **Educational Tools** - Demonstrate critical thinking and belief revision
- ğŸ¯ **Truth-Seeking** - Watch AI experts converge on well-reasoned conclusions

## ğŸ­ Meet the Debaters

| Personality | Provider | Traits | Perspective |
|-------------|----------|--------|-------------|
| **ğŸŒŸ Claude Optimist** | Claude | Creative, big-picture, opportunity-focused | Sees possibilities everywhere |
| **ğŸ” Claude Skeptic** | Claude | Analytical, detail-oriented, risk-aware | Points out flaws and limitations |
| **ğŸš€ GPT Visionary** | OpenAI | Forward-thinking, innovative, solution-oriented | Champions breakthrough ideas |
| **âš–ï¸ GPT Critic** | OpenAI | Methodical, cautious, problem-focused | Highlights potential issues |

Each personality maintains internal beliefs about truth while presenting arguments, potentially updating their views when faced with compelling evidence. After reaching consensus through voting, an **impartial Judge** synthesizes all perspectives into a final decision.

## ğŸ§  Revolutionary Features

### Internal Belief Systems
Each AI personality maintains private beliefs about what's actually true, separate from their public arguments. They can:
- Form expert-level initial assessments based on evidence
- Update beliefs when presented with compelling counter-arguments
- Maintain intellectual honesty while arguing their position

### Dynamic Consensus Building
- Personalities debate until reaching agreement through ranked voting
- Arguments must directly engage with others' points
- Real belief revision when evidence warrants it
- Configurable resistance to changing minds

### Expert-Level Reasoning
- Deep analysis with citations and evidence
- Field-specific expertise applied to questions
- Rigorous logical argumentation
- Truth-seeking balanced with debate dynamics

## ğŸ¬ Example Debates

### ğŸ¤– "Should we develop AGI as fast as possible?"

<details>
<summary>Click to see the debate highlights</summary>

**Claude Optimist:** *"The potential benefits are extraordinary! AGI could solve climate change, cure diseases, and unlock technologies we can't even imagine. The faster we develop it responsibly, the sooner we can address humanity's greatest challenges!"*

**GPT Critic:** *"This rush toward AGI poses existential risks we don't fully understand. Without proper safety frameworks and international oversight, we could create systems that operate beyond human control or comprehension."*

**GPT Visionary:** *"What if we're thinking too small? AGI represents the next evolutionary leap for intelligence itself. With proper safeguards, we could create benevolent systems that enhance human potential rather than replace it."*

**Claude Skeptic:** *"The alignment problem remains unsolved. How can we ensure AGI systems will pursue human values when we haven't even agreed on what those values are? The technical challenges of safe AGI are being dangerously underestimated."*

**Judge's Decision:** *"A measured approach prioritizing safety research alongside capability development, with mandatory international cooperation frameworks..."*

</details>

### ğŸ• "Is pineapple on pizza acceptable?"

<details>
<summary>Click to see this heated culinary debate</summary>

**Claude Optimist:** *"Pineapple on pizza represents culinary creativity at its finest! The sweet-savory combination creates delightful flavor contrasts, and food should be about joy and experimentation, not rigid rules!"*

**GPT Critic:** *"This combination violates fundamental principles of Italian cuisine. The high water content of pineapple creates soggy crusts, while the sweetness overwhelms the carefully balanced acidity of traditional tomato sauce."*

**GPT Visionary:** *"Hawaiian pizza opened the door to global fusion cuisine! Without this bold experiment, we might never have discovered other amazing combinations like BBQ chicken or breakfast pizzas."*

**Claude Skeptic:** *"Traditional pizza recipes evolved over centuries for good reasons. Adding random fruits doesn't constitute innovationâ€”it's culinary chaos that diminishes the integrity of a perfect food."*

**Judge's Decision:** *"While respecting traditional Italian cuisine, food evolution through cultural fusion has created legitimate new traditions. Pineapple pizza, though controversial, represents valid culinary diversity..."*

</details>

## ğŸš€ Quick Start

### Prerequisites
- **Python 3.9+**
- **UV package manager** ([install here](https://docs.astral.sh/uv/getting-started/installation/))
- **API Keys:**
  - OpenAI API key
  - Anthropic Claude API key

### Installation

1. **Clone the repository:**
   ```bash
   git clone https://github.com/DiogoNeves/ass.git
   cd ass
   ```

2. **Install dependencies:**
   ```bash
   uv sync
   ```

3. **Set up your API keys:**
   Create a `.env` file:
   ```env
   CLAUDE_API_KEY=your_claude_api_key_here
   OPENAI_API_KEY=your_openai_api_key_here
   ```

### Running Debates

**Interactive Mode** - Ask any question:
```bash
uv run python debate_app.py
```

**Demo Mode** - See a pre-configured debate:
```bash
uv run python demo.py
```

## ğŸ® How It Works

### ğŸ—³ï¸ Voting Mode (Default)

```mermaid
graph TD
    A[Your Question] --> B[Iteration 0: Initial Positions]
    B --> C[Iteration 1+: Direct Argumentation]
    C --> D{Voting Phase}
    D -->|No Consensus| C
    D -->|Consensus Reached| E[Judge Reviews Everything]
    E --> F[Final Decision]
    
    style A fill:#e1f5fe
    style D fill:#fff3cd
    style F fill:#f3e5f5
```

1. **ğŸ¯ Question Input** - You provide any question or topic
2. **ğŸ’­ Initial Positions** - Each personality presents their stance without arguing
3. **ğŸ¥Š Argumentation** - Personalities directly engage with each other's points
4. **ğŸ—³ï¸ Voting** - After each iteration, personalities rank all participants
5. **ğŸ”„ Consensus Check** - Continue until voting threshold is reached
6. **âš–ï¸ Judge Review** - Final synthesis with potential override

### ğŸ­ Classic Mode

```mermaid
graph TD
    A[Your Question] --> B[Round 1: Opening Arguments]
    B --> C[Round 2: Rebuttals & Counter-arguments]
    C --> D[Round 3: Final Positions]
    D --> E[Judge's Final Decision]
    
    style A fill:#e1f5fe
    style E fill:#f3e5f5
```

Use `--classic-mode` to run the original 3-round format.

## ğŸ› ï¸ Architecture

The application uses a modular architecture with **Pydantic validation** and clear separation of concerns:

```python
# Create a new personality with validated configuration
from models.personality import PersonalityConfig
from personalities import create_personality

new_personality = create_personality(PersonalityConfig(
    name="My Custom Debater",
    model_provider="claude",  # or "openai" or "local"
    model_name="claude-3-5-sonnet-20241112",
    system_prompt="Your personality description...",
    reasoning_depth=8,
    truth_seeking=7,
    voting_traits=PersonalityTraits(fairness=8, self_confidence=6)
))
```

**Key Components:**
- **`models/`** - Pydantic models with automatic validation:
  - `PersonalityConfig` - Validated personality configuration
  - `Vote`, `VotingConfig` - Voting system models
  - `DebateConfig`, `DebateState` - Debate management
  - `Argument`, `ArgumentHistory` - Argument tracking
- **`personalities/`** - AI personality implementations:
  - `LLMPersonality` - Abstract base class
  - `ClaudePersonality`, `OpenAIPersonality`, `LocalModelPersonality`
- **`services/`** - Business logic:
  - `DebateManager` - Core debate orchestration
  - `FileManager` - Save/load debates with AI titles
- **`ui/`** - User interface:
  - `RichFormatter` - Terminal formatting
  - `PromptHandler` - User input handling

## ğŸ’¡ Interesting Questions to Try

### ğŸ§  **Philosophy & Ethics**
- "Is free will an illusion?"
- "Should we prioritize individual freedom or collective security?"
- "Is artificial consciousness possible?"

### ğŸŒ **Society & Technology**  
- "Should social media be regulated like tobacco?"
- "Is remote work better for society than office work?"
- "Should we colonize Mars or fix Earth first?"

### ğŸ¨ **Creative & Fun**
- "Which is the superior breakfast: cereal or toast?"
- "Should we bring back extinct species through genetic engineering?"
- "Is a hot dog a sandwich?"

### ğŸ›ï¸ **Policy & Governance**
- "Should voting be mandatory in democracies?"
- "Is universal basic income feasible?"
- "Should we abolish daylight saving time?"

## ğŸ¨ Features

- **ğŸ§  Internal Belief States** - AI personalities maintain private beliefs about truth
- **ğŸ“ Expert-Level Reasoning** - Deep analysis with evidence and field-specific knowledge
- **ğŸ”„ Belief Revision** - Personalities can genuinely change their minds with strong evidence
- **ğŸ—³ï¸ Consensus-Based Voting** - Debate until reaching agreement through ranked voting
- **ğŸ’¬ Direct Argumentation** - Must engage with others' specific points
- **ğŸ“Š Configurable Persistence** - Control how resistant each personality is to changing beliefs
- **ğŸ¤– Multi-Model Support** - Claude, OpenAI, and local model servers
- **âš–ï¸ Truth-Seeking Judge** - Maximum reasoning depth and openness to best arguments
- **ğŸ¯ Sophisticated Traits** - Belief persistence, reasoning depth, truth-seeking levels
- **âœ… Pydantic Validation** - Runtime validation of all data structures with clear error messages
- **ğŸ”§ Highly Configurable** - JSON configs, environment variables, CLI flags
- **ğŸ“ˆ Belief Tracking** - Monitor how positions evolve through debate
- **ğŸ­ Rich CLI Interface** - Beautiful formatting with progress indicators
- **ğŸ’¾ Automatic Debate Saving** - Preserves complete debate history with AI-generated titles
- **ğŸ—ï¸ Modular Architecture** - Clear separation between models, services, UI, and personalities

## ğŸ”§ Customization

### Adding New Personalities

Extend the debate by creating personalities with unique traits (with full validation):

```python
from models.personality import PersonalityConfig, PersonalityTraits

personalities["economist"] = create_personality(PersonalityConfig(
    name="Dr. Economy", 
    model_provider="openai",
    model_name="gpt-4o-20250117",
    system_prompt="You are a pragmatic economist focused on costs, benefits, and market dynamics...",
    reasoning_depth=9,
    truth_seeking=8,
    belief_persistence=7,
    voting_traits=PersonalityTraits(
        fairness=8,
        self_confidence=7,
        strategic_thinking=9,
        empathy=6
    )
))
```

### Supported Models

**Anthropic Claude:**
- `claude-sonnet-4-20250514` (Latest & Recommended - 2025)
- `claude-3-5-sonnet-20241022` 
- `claude-3-haiku-20240307`
- Other Claude models

**OpenAI:**
- `gpt-4.1-2025-04-14` (Latest & Recommended - 2025)
- `gpt-4`
- `gpt-4-turbo`
- `gpt-3.5-turbo`

**Local Models:**
- Any OpenAI-compatible API endpoint
- Configure with `--local-model-url` or `LOCAL_MODEL_URL` environment variable

### Configuration Options

#### Command Line Arguments

```bash
# Voting mode options
uv run python debate_app.py --voting-threshold 0.8  # Set consensus to 80%
uv run python debate_app.py --max-iterations 15     # Allow up to 15 rounds
uv run python debate_app.py --min-iterations 3      # Require 3 rounds before voting

# Classic mode
uv run python debate_app.py --classic-mode           # Use original 3-round format
uv run python debate_app.py --no-voting             # Disable voting system

# Local model support
uv run python debate_app.py --local-model-url http://localhost:8080

# Configuration file
uv run python debate_app.py --config my_config.json

# Disable automatic saving
uv run python debate_app.py --no-save
```

#### Environment Variables

```bash
# Voting configuration
export DEBATE_VOTING_ENABLED=true
export DEBATE_CONSENSUS_THRESHOLD=0.75
export DEBATE_MAX_ITERATIONS=10
export DEBATE_CLASSIC_MODE=false

# Local model configuration
export LOCAL_MODEL_URL=http://localhost:8080
export LOCAL_MODEL_AUTH=your-auth-token
export LOCAL_MODEL_TIMEOUT=30

# API Keys (existing)
export CLAUDE_API_KEY=your_claude_key
export OPENAI_API_KEY=your_openai_key
```

#### Configuration File

Create a JSON configuration file (see `sample_config.json`):

```json
{
  "voting_enabled": true,
  "consensus_threshold": 0.75,
  "min_iterations": 2,
  "max_iterations": 10,
  "scoring_system": {
    "1": 4,
    "2": 3,
    "3": 2,
    "4": 1
  },
  "judge_can_override": true,
  "override_threshold": 0.9,
  "allow_local_models": true,
  "local_model_timeout": 30,
  "classic_mode": false
}
```

## ğŸ“ Project Structure

```
ass/
â”œâ”€â”€ ğŸ“„ README.md           # This file
â”œâ”€â”€ âš™ï¸ pyproject.toml      # UV project configuration (includes Pydantic)
â”œâ”€â”€ ğŸ”’ uv.lock            # Dependency lock file
â”œâ”€â”€ ğŸ” .env               # API keys (create this)
â”œâ”€â”€ ğŸ“ models/            # Pydantic data models with validation
â”‚   â”œâ”€â”€ __init__.py
â”‚   â”œâ”€â”€ personality.py    # PersonalityConfig, PersonalityTraits
â”‚   â”œâ”€â”€ voting.py         # Vote, VotingConfig, VotingResult
â”‚   â”œâ”€â”€ debate.py         # DebateConfig, DebateState
â”‚   â””â”€â”€ arguments.py      # Argument, ArgumentHistory
â”œâ”€â”€ ğŸ“ personalities/     # AI personality implementations
â”‚   â”œâ”€â”€ __init__.py
â”‚   â”œâ”€â”€ base.py          # LLMPersonality abstract base class
â”‚   â”œâ”€â”€ claude.py        # Claude implementation
â”‚   â”œâ”€â”€ openai.py        # OpenAI implementation
â”‚   â”œâ”€â”€ local.py         # Local model implementation
â”‚   â””â”€â”€ factory.py       # create_personality factory
â”œâ”€â”€ ğŸ“ services/         # Business logic services
â”‚   â”œâ”€â”€ __init__.py
â”‚   â”œâ”€â”€ debate_manager.py # Core debate orchestration
â”‚   â””â”€â”€ file_manager.py   # Save/load with AI titles
â”œâ”€â”€ ğŸ“ ui/               # User interface components
â”‚   â”œâ”€â”€ __init__.py
â”‚   â”œâ”€â”€ rich_formatter.py # Rich terminal formatting
â”‚   â””â”€â”€ prompts.py       # User input handling
â”œâ”€â”€ ğŸ§  personality.py     # Backward compatibility imports
â”œâ”€â”€ ğŸ—³ï¸ voting.py         # Voting system implementation
â”œâ”€â”€ âš™ï¸ config.py         # Legacy configuration (use models/debate.py)
â”œâ”€â”€ ğŸ­ debate_app.py      # Main interactive application
â”œâ”€â”€ ğŸ¬ demo.py           # Demo runner with sample debates
â”œâ”€â”€ ğŸ“‹ sample_config.json # Example configuration file
â”œâ”€â”€ ğŸ“„ VOTING-FEATURE.md  # Voting feature requirements
â””â”€â”€ ğŸ“ debates/          # Saved debate files (auto-created)
    â””â”€â”€ .gitkeep         # Keeps folder in git
```

## ğŸ¤ Contributing

We welcome contributions! Here are some ideas:

- **ğŸ­ New Personality Types** - Add specialists (scientist, artist, philosopher)
- **ğŸ”Œ Additional LLM Providers** - Support for more AI models (Gemini, Mistral, etc.)
- **ğŸª Enhanced Debate Formats** - Tournament brackets, team debates, panel discussions
- **ğŸ—³ï¸ Alternative Voting Systems** - Approval voting, Condorcet method, etc.
- **ğŸ¨ UI Improvements** - Better visualizations, vote graphs, debate trees
- **ğŸ“Š Analytics** - Argument quality metrics, consensus patterns, debate statistics
- **ğŸŒ Web Interface** - Browser-based version with real-time updates
- **ğŸ’¾ Enhanced Debate History** - Advanced analysis and replay features
- **ğŸ” Argument Mining** - Extract key points and conclusions automatically

### Development Setup

```bash
# Clone and setup
git clone https://github.com/DiogoNeves/ass.git
cd ass
uv sync

# Run tests (if you add them)
uv run pytest

# Format code
uv run black .

# Run a debate without saving
uv run python debate_app.py --no-save
```

### ğŸ’¾ Automatic Debate Saving

Debates are automatically saved to JSON files in the `debates/` directory with:
- **AI-Generated Titles** - Using Claude Haiku for fast, descriptive naming
- **Complete History** - All iterations, arguments, votes, and decisions
- **Timestamped Files** - Format: `YYYYMMDD_HHMMSS_Title_Keywords.json`
- **Incremental Saves** - State saved after each iteration for crash recovery

**Saved Data Includes:**
- Question and generated title
- All personality arguments by iteration
- Voting records and consensus tracking
- Internal belief updates (when DEBUG_BELIEFS=true)
- Judge's final decision
- Configuration used for the debate

**Control Saving:**
```bash
# Disable saving for quick tests
uv run python debate_app.py --no-save

# Or via environment variable
export DEBATE_SAVE_ENABLED=false
```

**Example Saved File:**
```json
{
  "title": "AI Development Speed Debate",
  "question": "Should we develop AGI as fast as possible?",
  "timestamp": "20250621_143052",
  "iterations": [
    {
      "iteration": 0,
      "arguments": { /* personality arguments */ },
      "consensus_reached": false
    },
    // ... more iterations
  ],
  "final_consensus": true,
  "final_judge_decision": "After careful consideration..."
}
```

## ğŸ› ï¸ Troubleshooting

**ğŸ”‘ API Key Issues:**
- Ensure your `.env` file is in the project root
- Verify API keys are valid and have sufficient credits
- Check that keys don't have extra spaces or quotes

**ğŸ“¦ Import Errors:**
- Run `uv sync` to install all dependencies
- Ensure you're using Python 3.9+
- Use `uv run python script.py` instead of `python script.py`

**ğŸŒ UV Issues:**
- Install UV: [Installation Guide](https://docs.astral.sh/uv/getting-started/installation/)
- Update UV: `uv self update`

## ğŸ“œ License

MIT License - see [LICENSE](LICENSE) file for details.

## ğŸ™ Acknowledgments

- **[Rich](https://rich.readthedocs.io/)** - Beautiful terminal formatting
- **[OpenAI](https://openai.com/)** - GPT models and API
- **[Anthropic](https://anthropic.com/)** - Claude models and API
- **[UV](https://docs.astral.sh/uv/)** - Fast Python package manager

---

<div align="center">

**ğŸ­ Ready to watch AIs debate? Start a discussion and see what happens! ğŸ­**

[â­ Star this repo](https://github.com/DiogoNeves/ass) â€¢ [ğŸ› Report Bug](https://github.com/DiogoNeves/ass/issues) â€¢ [ğŸ’¡ Request Feature](https://github.com/DiogoNeves/ass/issues)

</div>
